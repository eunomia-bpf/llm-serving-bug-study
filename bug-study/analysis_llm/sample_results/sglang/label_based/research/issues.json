[
  {
    "number": 3266,
    "title": "[Feature] Add Model Hooks for Accessing and Customizing Model Activations",
    "body": "### Checklist\n\n- [x] 1. If the issue you raised is not a feature but a question, please raise a discussion at https://github.com/sgl-project/sglang/discussions/new/choose Otherwise, it will be closed.\n- [x] 2. Please use English, otherwise it will be closed.\n\n### Motivation\n\n## Description\nIt would be beneficial to introduce model hooks that allow users to access and modify model activations. This feature would enable greater flexibility for tasks such as visualization, debugging, and custom processing of intermediate representations.\n\n## Use case\n* Extract intermediate outputs for interpretability analysis, such as [LogitLens-style investigations](https://www.lesswrong.com/posts/AcKRB8wDpdaN6v6ru/interpreting-gpt-the-logit-lens).\n* Expose internal activations, enabling users to cache activations and implement functions to edit, remove, or replace them dynamically during inference, for example [representation engineering](https://github.com/andyzoujm/representation-engineering).\n\nWhile this may introduce some performance overhead, it would enhance interpretability research and enable efficient model editing.\n\n### Related resources\n\n## model hook resources\n* [Pytorch hook](https://pytorch.org/docs/stable/generated/torch.Tensor.register_hook.html)\n* [Transformerlens](https://github.com/TransformerLensOrg/TransformerLens)\n## related issues and use case\n* https://github.com/vllm-project/vllm/issues/4084\n* https://github.com/vllm-project/vllm/issues/11397\n* https://github.com/vllm-project/vllm/issues/8278",
    "labels": [
      "inactive",
      "research"
    ],
    "state": "closed",
    "created_at": "2025-02-03T05:44:46+00:00",
    "closed_at": "2025-04-05T00:17:32+00:00",
    "comments": 4,
    "reactions": {
      "url": "https://api.github.com/repos/sgl-project/sglang/issues/3266/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "author_association": "NONE",
    "html_url": "https://github.com/sgl-project/sglang/issues/3266"
  }
]